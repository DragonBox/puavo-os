Here are the post-installation configuration for puavo-ltsp-bootserver
package.  The puavo-ltsp-bootserver package it used to configure Puavo
bootservers, but unfortunately some configurations need to be slightly
edited by-hand for everything to work correctly.  Some suggestions
can safely be skipped if the corresponding functionality is not needed.

These settings have been tested with Ubuntu version 12.04.


Cups
----

To setup cups to work with Puavo certificates do edit
/etc/apparmor.d/local/usr.sbin.cupsd to contain the line:

  /etc/puavo/certs/* r,

Also do edit the /etc/cups/cupsd.conf file to contain the lines:

  ServerCertificate /etc/puavo/certs/host.crt
  ServerKey /etc/puavo/certs/host.key

Do restart apparmor and cups server:

  sudo service apparmor restart
  sudo service cups restart


NFS-setup
---------

For fatclients NFS needs to be setup.  So far only NFSv4.1 is supported.
The file /etc/default/nfs-kernel-server should contain these lines (in
addition to the default lines):

  NEED_SVCGSSD=yes
  RPCNFSDOPTS="--nfs-version 4.1"

Likewise, /etc/default/nfs-common should contain:

  NEED_IDMAPD=yes
  NEED_GSSD=yes

The puavo-ltsp-client package expects that /home can be mounted from the
bootserver, thus we need on /etc/exports:

  /export gss/krb5(rw,fsid=0,async,subtree_check,no_root_squash,crossmnt)
  /export/home gss/krb5(rw,async,subtree_check,no_root_squash)

In /etc/idmapd.conf, "Domain" should be set to your kerberos realm (the same
as in /etc/puavo/kerberos/realm after registering the host to Puavo):

  Domain = ...

On /etc/fstab there should be the following line:

  /home /export/home none rw,bind 0 0

Also /export/home should be created:

  mkdir -p /export/home

Do the following to get the NFS-configurations active:

  mount -a
  service nfs-kernel-server restart
  service idmapd restart
